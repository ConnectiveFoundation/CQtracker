<div class="container">
  <div class="row">
    <h1>CQ Tracker App</h1>
    <h2>List of cards</h2>
  </div>
  <div class="row">
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Serial</th>
            <th>Name</th>
            <th>Zip</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @cards.each do |card| %>
            <tr>
              <td><%= card.serial %></td>
              <td><%= card.name %></td>
              <td><%= card.zip %></td>
              <td><%= link_to 'Show', card %></td>
              <td><%= link_to 'Edit', edit_card_path(card) %></td>
              <td><%= link_to 'Destroy', card, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
<br>
  <div class="row">
    <div class="col-xs-12 col-md-8-offset-4">
      <%= link_to 'New Card', new_card_path %>
    </div>
  </div>
  <div class="row">
    <div style='width: 800px;'>
      <div id="map" style='width: 800px; height: 400px;'></div>
    </div>
  </div>
</div>
<script type="text/javascript">
  handler = Gmaps.build('Google');
  handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    markers = handler.addMarkers(<%=raw @hash.to_json %>);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  });
</script>