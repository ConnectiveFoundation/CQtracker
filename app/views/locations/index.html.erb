  <div class="row">
    <h1>All locations</h1>
  </div>
  <br />
  <form class="form-inline" role="form">
    <div class="form-group">
      <%= form_tag(locations_path, :method => "get", id: "search-form") do %>
        <%= text_field_tag :search, params[:search], placeholder: "Enter Serial Number", :class => "form-control" %>
        <%= submit_tag "Search", :name => nil, :class => "btn btn-primary" %>
      <% end %>
      <%= link_to locations_path(@location) do %>
        <button type="button" class="btn btn-default">
          New Location&nbsp;<i class="fa fa-plus-circle fa-fw"></i>
        </button>
      <% end %>
    </div>
  </form> 
  <br />
  <div class="row">
    <div class="col-xs-12 col-md-8-offset2">
      <div id="map" style="width: auto; height: 400px; border-radius: 10px; border: #cccccc solid 1px;"></div>
    </div>
  </div>
  <br />
  <div class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Serial Number</th>
        <th>Address</th>
        <th>Name</th>
        <th>Latitude</th>
        <th>Longitude</th>
        <th colspan="4"></th>
      </tr>
    </thead>

    <tbody>
      <% @locations.each do |location| %>
        <tr>
          <td><%= location.serial_number %></td>
          <td><%= location.address %></td>
          <td><%= location.name %></td>
          <td><%= location.latitude %></td>
          <td><%= location.longitude %></td>
          <td><i class="fa fa-eye fa-fw"></i>&nbsp;<%= link_to 'Show', location %></td>
          <td><i class="fa fa-pencil fa-fw"></i>&nbsp;<%= link_to 'Edit', edit_location_path(location) %></td>
         <!-- <td>&nbsp; <%= link_to 'Destroy', location, method: :delete, data: { confirm: 'Are you sure?' } %> </td> -->
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<br />
<script type="text/javascript">
  handler = Gmaps.build('Google');
  handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    markers = handler.addMarkers(<%=raw @hash.to_json %>);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  });
</script>